<!doctype html>
<html>
    <head>
        <meta charset="utf8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>Jack Ashburn</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
        <div id="navarea"></div>
        <script>
            fetch('/navbar.html')
            .then(res=>res.text())
            .then(data=>{
                document.getElementById("navarea").innerHTML=data;
            });
        </script>
    </head>
    <body style="background-image: linear-gradient(to left, #ffffff, #cccccc)">
        <div class="container" id="epacCont" style="background:local">
            <div class="row">
                <div class="col">
                    <div class="card" style="background:local;border:none">
                        <div class="card-body">
                            <h2>ePac LLC, paid internship </h2>
                            <h4>May 2022 - </h4> <br>
                            text
                        </div>
                    </div>
                </div>
                <div class="col" id="threeCol" >
                    <script type="importmap">
                        {
                            "imports": {
                                "three": "https://unpkg.com/three@0.138.0/build/three.module.js",
                                "OrbitControls": "https://unpkg.com/three@0.138.0/examples/jsm/controls/OrbitControls.js"
                            }
                        }
                    </script>
                    <script type="module">
                        import * as THREE from '/node_modules/three/build/three.module.js';
                        import { GLTFLoader } from '/node_modules/three/examples/jsm/loaders/GLTFLoader.js';
                        import { OrbitControls } from '/node_modules/three/examples/jsm/controls/OrbitControls.js';

                        const scene = new THREE.Scene();
                        const camera = new THREE.PerspectiveCamera( 60, document.getElementById("threeCol").innerWidth / document.getElementById("threeCol").innerHeight, 0.1, 1000 );
                        camera.position.set(5,5,10); 
                        const renderer = new THREE.WebGLRenderer();
                        renderer.setSize( document.getElementById("threeCol").innerWidth, document.getElementById("threeCol").innerHeight);
                        renderer.setSize( 400, 400); 
                        renderer.setPixelRatio(window.devicePixelRatio);
                        renderer.outputEncoding = THREE.sRGBEncoding; 
                        document.getElementById("threeCol").appendChild( renderer.domElement ); 
                        var mat = new THREE.MeshStandardMaterial();
                        var controls = new OrbitControls(camera, renderer.domElement);
                        var ambientLight = new THREE.AmbientLight(0x202020);
                        var topLight = new THREE.PointLight(0xffffff,1,60);
                        topLight.position.set(1,5,5)
                        scene.add(topLight);
                        var topLight2 = new THREE.PointLight(0xffffff,1,60);
                        topLight2.position.set(-2,0,-10);
                        scene.add(topLight2);
                        var bottomLight = new THREE.PointLight(0xffffff,1,60);
                        bottomLight.position.set(0,-8,0);
                        scene.add(bottomLight);
                        scene.background = new THREE.Color('white');
                        const loader = new GLTFLoader();
                        var materialChildren = new THREE.MeshBasicMaterial({color: 'black'});
                        var mat = new THREE.MeshStandardMaterial();
                        function loadModel(){
                            loader.load('examplePBpouch.json',
                            function(gltf){
                                gltf.scene.children[0].position.set(-1,-1,-6);
                                controls.target = new THREE.Vector3(-1,-1,-6);
                                for(var i = 0; i < 6; i++){
                                    gltf.scene.children[0].children[i].material = materialChildren;
                                    if(gltf.scene.children[0].children[i].children.length > 0){

                                    }
                                }
                                gltf.scene.children[0].children[3].visible = false;
                                console.log(gltf.scene);
                                gltf.scene.children[0].material = new THREE.MeshStandardMaterial({color: 'black'});
                                scene.add(gltf.scene);
                            }, undefined, function(error){
                                console.log("load error");
                            });
                        }
                        loadModel();
                        function animate(){
                            requestAnimationFrame(animate); 
                            renderer.render(scene, camera);
                        }
                        animate();
                    </script>
                </div> <br>
            </div> <br>
            <div class="card" style="background-image:#ffffff">text</div>
        </div>
    </body>
</html>